
<html xmlns:th="http//www.thymeleaf.org">
<div class="container">
	<div class="row">
		<div class="col-xs-12">
			<div class="alert alert-success alert-dismissible" role="alert"
				th:if="${message!=null}" th:text="${message}">
				<button class="close" data-dismiss="alert">&times;</button>
			</div>
		</div>
		<div class="col-md-offset-2 col-md-8">

			<div class="card">
				<div class="card-header">Add New Product</div>
				<div class="card-body">
					<form th:action="@{/manage/products}" method="post"
						enctype="multipart/form-data">
						<div class="form-group">
							<label for="name"><strong>Product Name</strong></label> <input
								type="text" class="form-control" id="name" name="name" th:value="${product.name}" 
								placeholder="Enter name of product"> <small
								class="form-text text-danger" th:errors="${product.name}"></small>
						</div>
						<div class="form-group">
							<label for="brand"><strong>Brand Name</strong></label> <input
								type="text" class="form-control" id="brand" name="brand" th:value="${product.brand}"
								placeholder="Enter Brand of product"> <small
								class="form-text text-danger" th:errors="${product.brand}"></small>
						</div>
						<div class="form-group">
							<label for="description"><strong>Product
									description</strong></label>
							<textarea rows="4" class="form-control" id="description" th:field="*{product.description}"
								name="description" placeholder="Enter description of product"></textarea>
							<small class="form-text text-danger"
								th:errors="${product.description}"></small>

						</div>
						<div class="form-group">
							<label for="unitPrice"><strong>Unit Price</strong></label> <input
								type="number" class="form-control" id="unitPrice" th:value="${product.unitPrice}"
								name="unitPrice" placeholder="Enter unit price"> <small
								class="form-text text-danger" th:errors="${product.unitPrice}">
							</small>
						</div>
						<div class="form-group">
							<label for="quantity"><strong>quantity</strong></label> <input
								type="number" class="form-control" id="quantity" name="quantity" th:value="${product.quantity}"
								placeholder="Enter quantity"> <small
								class="form-text text-danger" th:errors="${product.quantity}"></small>
						</div>
						<div class="form-group">
							<label for="file"><strong>Select Image</strong></label> <input
								type="file" class="form-control" id="file" name="file" th:field="*{product.file}"
								placeholder="select file"> <small
								class="form-text text-danger" th:errors="${product.file}"></small>
						</div>
						<div class="input-group mb-3">
							<div class="input-group-prepend">
								<label class="input-group-text" for="option">Category
									Option</label>
							</div>
							<select class="custom-select" id="option" name="category_id">
								
								<option th:each="c:${categories}" th:value="${c.id}"
									th:text="${c.name}" th:selected="${product.category_id}"></option>
							</select>
							<br/>
							<div class="text-right" th:if="${product.id==null}">
							<button type="button" data-toggle="modal" data-target="#myCategoryModal" class="btn btn-warning btn-xs">Add Category</button>
							
							</div>
						</div>
						<div class="form-group">
							<button type="submit" class="btn btn-outline-success">Save</button>
						</div>
						<!-- hidden -->
						<input type="hidden" th:value="${product.id}" name="id" />
						<input type="hidden" th:value="${product.code}" name="code" />
						<input type="hidden" th:value="${product.supplier_id}" name="supplier_id" />
						<input type="hidden" th:value="${product.active}" name="active" />
						
					</form>
				</div>
			</div>
		</div>

	</div>
	
		<div class="col-xs-12">
			<h3>Available Products</h3>
			<hr/>
		</div>
		<div class="col-xs-12">
		<div style="overflow: auto;">


				<!-- data table for admin -->
				<table id="adminProductTable"
					class="table table-striped table-bordered">
					<thead>
						<tr>
							<th>ID</th>
							<th>&#160;</th>
							<th>NAME</th>
							<th>QUANTITY</th>
							<th>U.PRICE</th>
							<th>ACTIVE</th>
							<th>EDIT</th>

						</tr>
					</thead>
					<tbody>
						

					</tbody>
					<tfoot>
						<tr>
							<th>ID</th>
							<th>&#160;</th>
							<th>NAME</th>
							<th>QUANTITY</th>
							<th>U.PRICE</th>
							<th>ACTIVE</th>
							<th>EDIT</th>
						</tr>
					</tfoot>

				</table>

			</div>		
		</div>
		
<!-- Modal -->
  <div class="modal fade" id="myCategoryModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Add New Category</h4>
        </div>
        <div class="modal-body">
          <p>Some text in the modal.</p>
          <form th:object="${category}" th:action="@{/manage/category}" method="post">
                      <div class="form-group">
							<label for="name"><strong>Category Name</strong></label> <input
								type="text" class="form-control" id="name" name="name"
								placeholder="category name"> 
						</div>
						 <div class="form-group">
							<label for="description"><strong>Category Description</strong></label> <textarea rows="5"
								 class="form-control" id="description" name="description"
								placeholder="category description"></textarea> 
						</div>
						<div class="form-group">
							<button type="submit" class="btn btn-outline-success">Save</button>
						</div>
          
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>
	</div>
</html>